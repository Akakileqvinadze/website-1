<!DOCTYPE html>
<html lang="GE">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>კონტაქტი — Nebula AI Hub</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
  :root{
    --primary: #8B5CF6;
    --accent: #8B5CF6;
    --bg-grad-start: #F4F8FB;
    --bg-grad-end: #F7F5FF;
    --card-bg: #FFFFFF;
    --text-dark: #0F172A;
    --text-muted: #6B7280;
    --shadow-lg: 0 12px 30px rgba(11,7,30,0.06);
    --radius-lg: 14px;
    --error: #dc2626;
    --success: #10B981;
  }
  *{box-sizing:border-box}
  html,body{height:100%; scroll-behavior:smooth; font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
  body{
    margin:0;
    color:var(--text-dark);
    background: linear-gradient(180deg,#F7F7F7, #FFFFFF 60%);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    display:flex;
    flex-direction:column;
    min-height:100vh;
  }

  header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:18px 6%;
    background: rgba(255,255,255,0.98);
    position:fixed;
    top:0;
    left:0;
    right:0;
    backdrop-filter: blur(6px);
    z-index:999;
    border-bottom: 1px solid rgba(15,23,42,0.04);
  }
  .logo{
    display:flex;
    align-items:center;
    gap:10px;
    text-decoration:none;
    font-weight:700;
    color:#8B5CF6;
    font-size:20px;
  }
  .logo img{width:30px;height:30px;border-radius:8px;object-fit:cover}
  .logo-text { display:flex; align-items:center; gap:8px; }
  .logo-badge {
    display:inline-flex;
    align-items:center;
    justify-content:center;
    min-width:26px;
    height:26px;
    padding:0 6px;
    border-radius:8px;
    background: linear-gradient(135deg, #F3E8FF, #EEF2FF);
    color:var(--accent);
    font-weight:800;
    font-size:12px;
    box-shadow: 0 6px 18px rgba(139,92,246,0.08);
    border: 1px solid rgba(139,92,246,0.12);
    transform: translateY(-1px);
  }

  nav{display:flex;gap:12px;align-items:center}
  nav a{color:var(--text-muted);text-decoration:none;font-weight:600;font-size:14px;padding:8px 10px;border-radius:8px}
  nav a:hover{background:rgba(139,92,246,0.08); color:var(--text-dark)}

  .header-right{display:flex;align-items:center;gap:12px}
  .lang-toggle-btn{
    border: 1px solid var(--primary);
    background: transparent;
    color: var(--primary);
    padding: 6px 12px;
    border-radius: 8px;
    font-weight:700;
    cursor:pointer;
    width:48px;
    text-align:center;
  }
  .btn-demo{
    padding:8px 14px;border-radius:10px;background:linear-gradient(180deg,var(--accent), #7C3AED);
    color:white;font-weight:700;border:none;cursor:pointer;text-decoration:none;
    box-shadow: 0 8px 20px rgba(139,92,246,0.12);
  }

  main{flex:1;padding:90px 6% 60px;}
  .container{max-width:1100px;margin:0 auto;}

  .section-title{text-align:center;margin:8px 0 0;font-size:32px;font-weight:800;color:var(--primary);}
  .section-sub{ text-align:center;color:var(--text-muted); margin-bottom:28px; font-size:15px; }

  .contact-grid{
    display:grid;
    grid-template-columns: 1fr 420px;
    gap:28px;
    align-items:start;
    margin-top:18px;
  }

  .card { background:var(--card-bg); border-radius:var(--radius-lg); padding:24px; box-shadow:var(--shadow-lg); }

  .form-card{padding:30px;}
  .form-card h3{margin:0;font-size:18px;color:var(--text-dark); font-weight:700}
  .form-card > p{color:var(--text-muted); margin-bottom:24px; font-size:14px;}

  form.contact-form{display:flex;flex-direction:column;gap:16px;margin-top:8px}
  .form-group{display:flex;flex-direction:column;gap:6px}
  .form-group label{display:block;font-weight:600;color:var(--text-dark);font-size:14px}
  input[type="text"], input[type="tel"], input[type="email"], textarea {
    width:100%; padding:12px 14px; border-radius:10px; border:1px solid #E6E9EE; font-size:15px; background: #fff; color:var(--text-dark);
  }
  input:focus, textarea:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 4px rgba(139,92,246,0.06)}
  .btn-send{background:linear-gradient(180deg,var(--accent), #7C3AED);color:white;padding:14px 16px;border-radius:10px;border:none;font-weight:700;cursor:pointer;width:100%;font-size:16px}

  .field-error{color:var(--error);font-size:13px;margin-top:6px;display:none}

  .side-card .card{padding:30px; display:flex;flex-direction:column;gap:20px;}
  .contact-info-block{display:flex;flex-direction:column;gap:16px; padding:20px 0; border-radius:12px; background:#F9F7FF;}
  .info-item{display:flex;gap:12px;align-items:flex-start; padding:0 20px;}
  .info-item .icon{min-width:40px;height:40px;border-radius:10px;background:transparent; display:flex;align-items:center;justify-content:center;font-size:18px;color:var(--primary);}
  .info-item a, .info-item p { color:var(--text-dark); text-decoration:none; font-size:14px; margin:0; line-height:1.4 }
  .info-item strong { display:block;color:var(--primary);font-weight:700;font-size:15px; margin-bottom:4px; }
  .info-item a{font-weight:400; color:var(--text-dark)}
  .info-item .text-group{display:flex;flex-direction:column;gap:4px;}

  .company-row{display:flex;align-items:center;gap:12px; padding-bottom:12px; border-bottom:1px solid #eee;}
  .company-row .logo-small{width:48px;height:48px;border-radius:10px;background:linear-gradient(135deg,#EDE9FE,#EEF2FF);display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--accent)}
  .company-meta{display:flex;flex-direction:column}
  .company-name{font-weight:700;color:var(--text-dark); font-size:18px}
  .company-meta > div:last-child{color:var(--text-muted);font-size:14px}

  /* Map box + overlay pin styles */
  .map-box{height:300px;border-radius:10px;overflow:hidden;border:1px solid rgba(15,23,42,0.04); position:relative;}
  .map-overlay {
    position:absolute;
    left:0; top:0; right:0; bottom:0;
    display:flex;
    align-items:center;
    justify-content:center;
    pointer-events:none;
  }
  .map-pin{
    pointer-events: auto;
    width:44px;
    height:44px;
    border-radius:50%;
    background: linear-gradient(180deg,#FFFBF0,#FFE8D6);
    border: 2px solid rgba(0,0,0,0.06);
    box-shadow: 0 6px 18px rgba(0,0,0,0.12);
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="%238B5CF6" d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5A2.5 2.5 0 1 1 12 6.998 2.5 2.5 0 0 1 12 11.5z"/></svg>');
    background-repeat:no-repeat;
    background-position:center;
    background-size:60%;
    transition: transform .14s ease;
    cursor:pointer;
  }
  .map-pin:hover{ transform: translateY(-4px); }

  .socials{display:flex;flex-direction:column;gap:8px}
  .socials a{display:flex;align-items:center;gap:10px;text-decoration:none;color:var(--text-dark);font-weight:600}
  .socials i{min-width:34px;height:34px;border-radius:8px;background:#F1F5F9;display:flex;align-items:center;justify-content:center;color:var(--primary)}

  footer{padding:20px 6%;background:var(--card-bg);border-top:1px solid rgba(15,23,42,0.03); display:flex;justify-content:space-between;align-items:center;color:var(--text-muted);font-size:14px;}

  /* success inline */
  .submit-success {
    display:none;
    border-radius:10px;
    padding:14px 16px;
    background: linear-gradient(90deg, rgba(16,185,129,0.12), rgba(16,185,129,0.06));
    color: #065f46;
    font-weight:700;
    margin-top:10px;
    align-items:center;
    gap:10px;
  }
  .submit-success.show { display:flex; }

  @media (max-width:1100px){ .contact-grid{grid-template-columns:1fr 360px} .side-card .map-box{height:260px} }
  @media (max-width:880px){ main{padding:110px 6% 40px;} .contact-grid{grid-template-columns:1fr;} .side-card .map-box{height:220px} .contact-info-block{display:none;} }
  @media (max-width:480px){
    .map-pin{ width:36px; height:36px; background-size:55%; }
    .logo-badge{ min-width:22px; height:22px; font-size:11px; }
  }
</style>
</head>
<body>

<header>
  <a class="logo" href="index.html" aria-label="Nebula AI Hub home">
    <img src="logo.png" alt="Nebula logo" onerror="this.style.display='none'">
    <div class="logo-text">
      <span class="brand-name">Nebula AI Hub</span>
      <span id="logoBadge" class="logo-badge" title="Brand mark">NA</span>
    </div>
  </a>

  <nav aria-label="Main nav"></nav>

  <div class="header-right">
    <button id="lang-toggle" class="lang-toggle-btn" aria-label="Toggle language">GE</button>
    <a class="btn-demo" href="https://calendly.com/akakileqvinadze0/30min" target="_blank" rel="noopener">Book a demo</a>
  </div>
</header>

<main>
  <div class="container">
    <h2 class="section-title"></h2>
    <p class="section-sub"></p>

    <div class="contact-grid">

      <div class="card form-card">
        <h3></h3>

        <!-- Netlify-ready form: static fields with names -->
        <form id="contactForm" class="contact-form" name="contact" method="POST" data-netlify="true" netlify-honeypot="bot-field" action="/success.html" novalidate>
          <!-- required for Netlify detection -->
          <input type="hidden" name="form-name" value="contact">
          <input type="hidden" name="bot-field" aria-hidden="true">

          <div class="form-group">
            <label for="name"></label>
            <input id="name" name="name" type="text" placeholder="" aria-required="true" />
            <div id="err-name" class="field-error"></div>
          </div>

          <div class="form-group">
            <label for="phone"></label>
            <input id="phone" name="phone" type="tel" placeholder="" aria-required="true" />
            <div id="err-phone" class="field-error"></div>
          </div>

          <div class="form-group">
            <label for="company"></label>
            <input id="company" name="company" type="text" placeholder="" aria-required="true" />
            <div id="err-company" class="field-error"></div>
          </div>

          <div class="form-group">
            <label for="message"></label>
            <textarea id="message" name="message" rows="4" placeholder=""></textarea>
          </div>

          <button type="submit" class="btn-send" id="sendBtn"></button>

          <!-- inline success message (shown after successful fetch submission) -->
          <div id="submitSuccess" class="submit-success" role="status" aria-live="polite">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" style="margin-right:8px;">
              <circle cx="12" cy="12" r="10" fill="#10B981"></circle>
              <path d="M7.5 12.5l2.5 2.5 6-6" stroke="#fff" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span id="submitSuccessText">Thanks — message sent</span>
          </div>
        </form>
      </div>

      <aside class="side-card">
        <div class="card">
          <div class="contact-info-block">
            <div class="info-item">
              <div class="icon"><i class="fa-solid fa-phone"></i></div>
              <div class="text-group">
                <strong>Phone</strong>
                <a href="tel:+995571333303">+995 571 33 33 03</a>
                <a href="tel:+995579588859">+995 579 58 88 59</a>
              </div>
            </div>

            <div class="info-item">
              <div class="icon"><i class="fa-solid fa-envelope"></i></div>
              <div class="text-group">
                <strong>Email</strong>
                <a href="mailto:info@nebulahub.ai">info@nebulahub.ai</a>
              </div>
            </div>

            <div class="info-item">
              <div class="icon"><i class="fa-solid fa-location-dot"></i></div>
              <div class="text-group">
                <strong>Address</strong>
                <p id="addressP" style="margin:0">ქ. ქუთაისი, წმინდა ნინოს N4</p>
              </div>
            </div>
          </div>

          <div class="socials">
            <a href="https://www.facebook.com/p/Nebula-AI-Hub-61573891437689/" target="_blank">
              <i class="fab fa-facebook"></i> Facebook
            </a>
            <a href="https://www.linkedin.com/company/nebula-ai-hub/posts/" target="_blank">
              <i class="fab fa-linkedin"></i> LinkedIn
            </a>
          </div>

          <div class="map-box" id="mapBox">
            <iframe
              src="https://www.google.com/maps?q=42.27188334431592,42.70270947116418&hl=ge&z=15&output=embed"
              width="100%"
              height="100%"
              style="border:0;"
              allowfullscreen=""
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade">
            </iframe>
          </div>
        </div>
      </aside>

    </div>
  </div>
</main>

<footer>
  <div>© 2025 Nebula AI Hub</div>
  <div><a href="/privacy.html" style="color:inherit;text-decoration:none">Privacy Policy</a> • <a href="/terms.html" style="color:inherit;text-decoration:none">Terms</a></div>
</footer>

<script>
/* ======= სრული JS: ენის ტოგლი + Netlify-compatible ფორმას გამგზავნი ======= */

/* --- კონფიგურაცია: ტექსტები GE + EN --- */
const translations = {
  GE: {
    sectionTitle: "დაგვიკავშირდით",
    sectionSub: "დაუკავშირდით ჩვენს გუნდს",
    formTitle: "შეავსეთ ფორმა და მალევე დაგიკავშირდებით.",
    labelName: "სახელი",
    labelPhone: "ტელეფონი",
    labelCompany: "კომპანიის სახელი",
    labelMessage: "შეტყობინება",
    sendBtn: "გაგზავნა",
    placeholderName: "სახელი",
    placeholderPhone: "+995",
    placeholderCompany: "ნებულაჰაბი",
    placeholderMessage: "რისი თქმა გსურთ ჩვენთვის?",
    address: "ქ. ქუთაისი, წმინდა ნინოს N4",
    badge: "NA",
    successText: "მადლობა! შეტყობინება გაგზავნილია.",
    requiredText: "სავალდებულო",
    submitError: "გაგზავნა არ განხორციელდა. სცადეთ მოგვიანებით."
  },
  EN: {
    sectionTitle: "Contact Us",
    sectionSub: "Get in touch with our team",
    formTitle: "Fill out the form and we will contact you shortly.",
    labelName: "Name",
    labelPhone: "Phone",
    labelCompany: "Company",
    labelMessage: "Message",
    sendBtn: "Send",
    placeholderName: "Name",
    placeholderPhone: "+995",
    placeholderCompany: "Nebula Hub",
    placeholderMessage: "Your message",
    address: "4, St. Nino Street, Kutaisi",
    badge: "NA",
    successText: "Thanks! Message sent.",
    requiredText: "Required",
    submitError: "Submission failed. Please try later."
  }
};

/* --- ელემენტების მითითება --- */
const langBtn = document.getElementById('lang-toggle');
const contactForm = document.getElementById('contactForm');
const submitSuccess = document.getElementById('submitSuccess');
const submitSuccessText = document.getElementById('submitSuccessText');

/* ელემენტები, რომლებსაც განაახლებს ენის გადართვა */
const uiMap = {
  sectionTitle: document.querySelector('.section-title'),
  sectionSub: document.querySelector('.section-sub'),
  formTitle: document.querySelector('.form-card h3'),
  labelName: document.querySelector('label[for="name"]'),
  labelPhone: document.querySelector('label[for="phone"]'),
  labelCompany: document.querySelector('label[for="company"]'),
  labelMessage: document.querySelector('label[for="message"]'),
  sendBtn: document.getElementById('sendBtn'),
  nameInput: document.getElementById('name'),
  phoneInput: document.getElementById('phone'),
  companyInput: document.getElementById('company'),
  messageInput: document.getElementById('message'),
  addressP: document.getElementById('addressP'),
  logoBadge: document.getElementById('logoBadge'),
  submitSuccessText: submitSuccessText
};

/* --- საწყისი ენა --- */
let currentLang = localStorage.getItem('site-lang') || 'GE';

/* --- ენისგანაწევა ფუნქცია --- */
function applyLanguage(lang) {
  const t = translations[lang] || translations.EN;
  if(uiMap.sectionTitle) uiMap.sectionTitle.textContent = t.sectionTitle;
  if(uiMap.sectionSub) uiMap.sectionSub.textContent = t.sectionSub;
  if(uiMap.formTitle) uiMap.formTitle.textContent = t.formTitle;
  if(uiMap.labelName) uiMap.labelName.textContent = t.labelName;
  if(uiMap.labelPhone) uiMap.labelPhone.textContent = t.labelPhone;
  if(uiMap.labelCompany) uiMap.labelCompany.textContent = t.labelCompany;
  if(uiMap.labelMessage) uiMap.labelMessage.textContent = t.labelMessage;
  if(uiMap.sendBtn) uiMap.sendBtn.textContent = t.sendBtn;
  if(uiMap.nameInput) uiMap.nameInput.placeholder = t.placeholderName;
  if(uiMap.phoneInput) uiMap.phoneInput.placeholder = t.placeholderPhone;
  if(uiMap.companyInput) uiMap.companyInput.placeholder = t.placeholderCompany;
  if(uiMap.messageInput) uiMap.messageInput.placeholder = t.placeholderMessage;
  if(uiMap.addressP) uiMap.addressP.textContent = t.address;
  if(uiMap.logoBadge) uiMap.logoBadge.textContent = t.badge;
  if(langBtn) langBtn.textContent = lang;
  localStorage.setItem('site-lang', lang);
  currentLang = lang;
}

/* ინიციალიზაცია */
applyLanguage(currentLang);

/* ტოგლი ბტონი */
if(langBtn){
  langBtn.addEventListener('click', ()=>{
    const newLang = (currentLang === 'GE') ? 'EN' : 'GE';
    applyLanguage(newLang);
  });
}

/* --- გაუმჯობესებული submit handler (FormData -> URLSearchParams) --- */
if(contactForm){
  contactForm.addEventListener('submit', function(event){
    event.preventDefault();

    // პატარა ვალიდაცია სასავალდებულო ველებისთვის
    let valid = true;
    ['name','phone','company'].forEach(id=>{
      const input = document.getElementById(id);
      const err = document.getElementById('err-'+id);
      if(!input) return;
      if(!input.value.trim()){
        if(err){ err.textContent = (currentLang === 'GE') ? translations.GE.requiredText : translations.EN.requiredText; err.style.display = 'block'; }
        valid = false;
      } else {
        if(err){ err.style.display = 'none'; }
      }
    });
    if(!valid){
      // focus first invalid field
      const firstInvalid = document.querySelector('.field-error[style*="block"]');
      if(firstInvalid){
        const related = firstInvalid.previousElementSibling;
        if(related && typeof related.focus === 'function') related.focus();
      }
      return;
    }

    try {
      // აგროვოთ FormData პირდაპირ ფორმიდან (hidden inputs შედის)
      const fd = new FormData(contactForm);

      // ხელმეორედ დავრწმუნდეთ form-name-სი (Netlify-სთვის)
      if(!fd.get('form-name')){
        fd.append('form-name', contactForm.getAttribute('name') || 'contact');
      }

      // debug: Console log ყველა entry-სთვის (გამოწმებისთვის)
      console.group('Contact form - FormData entries');
      for(const pair of fd.entries()){
        console.log(pair[0], ':', pair[1]);
      }
      console.groupEnd();

      // FormData -> URLSearchParams (application/x-www-form-urlencoded)
      const urlParams = new URLSearchParams();
      for(const [k,v] of fd.entries()){
        urlParams.append(k, v);
      }
      // debug: ლოგი რომ ნახოთ network-ში რა იგზავნება
      console.log('URL encoded body:', urlParams.toString());

      // disable submit button while sending
      const submitBtn = document.getElementById('sendBtn') || contactForm.querySelector('button[type="submit"]');
      if(submitBtn){
        submitBtn.disabled = true;
        submitBtn.style.opacity = '0.6';
      }

      // გაგზავნა Netlify endpoint-ზე
      fetch('/', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/x-www-form-urlencoded'
        },
        body: urlParams.toString()
      }).then(response => {
        if(submitBtn){
          submitBtn.disabled = false;
          submitBtn.style.opacity = '';
        }
        if(response.ok){
          // წარმატება — აჩვენე inline success
          const successText = (currentLang === 'GE') ? translations.GE.successText : translations.EN.successText;
          if(submitSuccess && submitSuccessText){
            submitSuccessText.textContent = successText;
            submitSuccess.classList.add('show');
          } else if(submitSuccess) {
            submitSuccess.textContent = successText;
            submitSuccess.classList.add('show');
          } else {
            alert(successText);
          }

          // reset form
          contactForm.reset();

          // scroll to success (თუ არსებობს)
          if(submitSuccess){
            submitSuccess.scrollIntoView({ behavior: 'smooth', block: 'center' });
          }

          // auto-hide success after 3 წამიანი
          setTimeout(()=>{
            if(submitSuccess) submitSuccess.classList.remove('show');
          }, 3000);

        } else {
          // პასუხი 200 არ არის
          const msg = (currentLang === 'GE') ? translations.GE.submitError : translations.EN.submitError;
          alert(msg);
          console.error('Form submission returned non-OK response', response);
        }
      }).catch(err => {
        if(submitBtn){
          submitBtn.disabled = false;
          submitBtn.style.opacity = '';
        }
        const msg = (currentLang === 'GE') ? translations.GE.submitError : translations.EN.submitError;
        alert(msg);
        console.error('Form submit error:', err);
      });

    } catch (err) {
      console.error('Unexpected error while submitting form:', err);
      const msg = (currentLang === 'GE') ? translations.GE.submitError : translations.EN.submitError;
      alert(msg);
    }
  });
} else {
  console.warn('contactForm element not found — submit handler not attached.');
}
</script>


</body>
</html>
